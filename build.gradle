apply plugin: 'groovy'
apply plugin: 'application'
apply plugin: 'idea'
apply from: 'gradle/cucumber.gradle'

repositories {
    mavenCentral()
}

ext {
    libs = [
            'maven-shared-utils': 'org.apache.maven.shared:maven-shared-utils:0.3',
            groovy: 'org.codehaus.groovy:groovy:2.1.6:indy',
            hamcrest: 'org.hamcrest:hamcrest-library:1.3',
            jcommander: 'com.beust:jcommander:1.30',
            spock: 'org.spockframework:spock-core:0.7-groovy-2.0',
    ]
}

dependencies {
    compile libs.groovy
    compile libs.jcommander
    compile libs.'maven-shared-utils'

    testCompile(libs.spock) {
        exclude group: 'org.codehaus.groovy', module: 'groovy-all'
        exclude group: 'junit', module: 'junit-dep'
    }
    testCompile libs.hamcrest
}

applicationName = 'pipe'
mainClassName = 'org.pipelinelabs.pipeline.cli.Pipeline'
